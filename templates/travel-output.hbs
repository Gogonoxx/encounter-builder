<div class="travel-encounter-output">
  {{!-- Header with Title --}}
  <div class="travel-header">
    {{{headerHtml}}}
  </div>

  {{!-- Campaign Metadata (only if campaign-specific) --}}
  {{#if encounter.campaignSpecific}}
  <section class="campaign-metadata">
    <div class="metadata-row">
      <span class="metadata-label">Modus:</span>
      <span class="metadata-value {{encounter.campaignMode}}">{{campaignModeLabel}}</span>
    </div>
    {{#if encounter.campaignDanger}}
    <div class="metadata-row">
      <span class="metadata-label">Danger:</span>
      <span class="metadata-value">{{encounter.campaignDanger}}</span>
    </div>
    {{/if}}
    {{#if encounter.campaignFront}}
    <div class="metadata-row">
      <span class="metadata-label">Front:</span>
      <span class="metadata-value">{{encounter.campaignFront}}</span>
    </div>
    {{/if}}
    {{#if encounter.campaignSecretXP}}
    <div class="metadata-row secret-row">
      <span class="metadata-label">Secret ({{encounter.campaignSecretXP}}xp):</span>
      <span class="metadata-value secret-text">{{encounter.campaignSecretText}}</span>
    </div>
    {{/if}}
    {{#if encounter.campaignPC}}
    <div class="metadata-row">
      <span class="metadata-label">Spieler:</span>
      <span class="metadata-value">{{encounter.campaignPC}}</span>
    </div>
    {{/if}}
    {{#if encounter.campaignHook}}
    <div class="metadata-row">
      <span class="metadata-label">Hook:</span>
      <span class="metadata-value">{{encounter.campaignHook}}</span>
    </div>
    {{/if}}
  </section>
  {{/if}}

  {{!-- Main Description --}}
  <section class="travel-description">
    {{{descriptionHtml}}}
  </section>

  {{!-- Natural Wonder Mechanics (only for interactive wonders) --}}
  {{#if encounter.wonderMechanic}}
  <section class="wonder-mechanic-section">
    <h3><i class="fas fa-sparkles"></i> {{encounter.wonderName}}</h3>
    <div class="wonder-mechanic-box">
      <div class="wonder-benefit-cost">
        <div class="wonder-benefit">
          <span class="label"><i class="fas fa-gift"></i> Nutzen:</span>
          <span class="value">{{encounter.wonderBenefit}}</span>
        </div>
        <div class="wonder-cost">
          <span class="label"><i class="fas fa-skull-crossbones"></i> Preis:</span>
          <span class="value">{{encounter.wonderCost}}</span>
        </div>
      </div>
      <div class="wonder-rules">
        <span class="label"><i class="fas fa-scroll"></i> Regeln:</span>
        <p class="value">{{encounter.wonderMechanic}}</p>
      </div>

      {{!-- Effect Table (Wunschbrunnen 1d20) --}}
      {{#if encounter.wonderEffectTable}}
      <div class="wonder-effect-table">
        <h4><i class="fas fa-dice-d20"></i> 1d20 Effekt-Tabelle</h4>
        <table>
          <thead>
            <tr>
              <th>Wurf</th>
              <th>Effekt</th>
            </tr>
          </thead>
          <tbody>
            {{#each encounter.wonderEffectTable}}
            <tr>
              <td class="roll-cell">{{this.roll}}</td>
              <td>{{this.effect}}</td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      {{/if}}

      {{!-- Condition Table (Heilquelle 1d4) --}}
      {{#if encounter.wonderConditionTable}}
      <div class="wonder-condition-table">
        <h4><i class="fas fa-dice-d6"></i> 1d4 Condition-Tabelle</h4>
        <table>
          <thead>
            <tr>
              <th>Wurf</th>
              <th>Condition</th>
            </tr>
          </thead>
          <tbody>
            {{#each encounter.wonderConditionTable}}
            <tr>
              <td class="roll-cell">{{this.roll}}</td>
              <td>{{this.condition}}</td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      {{/if}}

      {{!-- Element Table (Elementarquelle 1d4) --}}
      {{#if encounter.wonderElementTable}}
      <div class="wonder-element-table">
        <h4><i class="fas fa-fire"></i> 1d4 Element-Tabelle</h4>
        <table>
          <thead>
            <tr>
              <th>Wurf</th>
              <th>Element</th>
              <th>Farbe</th>
            </tr>
          </thead>
          <tbody>
            {{#each encounter.wonderElementTable}}
            <tr>
              <td class="roll-cell">{{this.roll}}</td>
              <td>{{this.element}}</td>
              <td>{{this.color}}</td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      {{/if}}
    </div>
  </section>
  {{/if}}

  {{!-- Action Buttons --}}
  <footer class="travel-footer">
    <button type="button" class="back-to-builder-btn" data-action="backToBuilder">
      <i class="fas fa-arrow-left"></i> Zur√ºck
    </button>
    <button type="button" class="regenerate-btn" data-action="regenerate">
      <i class="fas fa-redo"></i> Neu generieren
    </button>
    <button type="button" class="save-journal-btn" data-action="saveJournal">
      <i class="fas fa-book"></i> Als Journal speichern
    </button>
  </footer>
</div>
